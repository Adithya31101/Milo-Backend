import"./vendor.5905ec28.js";document.getElementById("alert"),document.getElementById("alert-text");const e={type:Phaser.AUTO,width:500,height:500,parent:"app",pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:0}}},scene:{preload:function(){this.load.image("tiles","./maps/BeachTileset.png"),this.load.tilemapTiledJSON("beach","./maps/beach.json",null,Phaser.Tilemaps.TILED_JSON),this.load.atlas("self","./characters/atlas.png","./characters/atlas.json")},create:function(){const e=this.make.tilemap({key:"beach",tileWidth:32,tileHeight:32}),i=e.addTilesetImage("beach","tiles"),r=e.createLayer("ground",i,0,0),l=e.createLayer("water",i,0,0);l.setCollisionByProperty({collides:!0}),t=this.physics.add.sprite(100,100,"self","misa-front").setSize(20,30).setOffset(0,24),s=this.physics.add.sprite(120,150,"self","misa-front").setSize(30,40).setOffset(0,24),s.body.immovable=!0,this.physics.add.collider(t,l),this.physics.add.collider(t,s,(e=>{((e,a)=>{const t=e.x-a.x,s=e.y-a.y;Math.abs(t)>Math.abs(s)?t>0?e.setTexture("self","misa-left"):e.setTexture("self","misa-right"):s>0?e.setTexture("self","misa-back"):e.setTexture("self","misa-front")})(s,{x:e.x,y:e.y})}));const o=this.anims;o.create({key:"misa-left-walk",frames:o.generateFrameNames("self",{prefix:"misa-left-walk.",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1}),o.create({key:"misa-right-walk",frames:o.generateFrameNames("self",{prefix:"misa-right-walk.",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1}),o.create({key:"misa-front-walk",frames:o.generateFrameNames("self",{prefix:"misa-front-walk.",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1}),o.create({key:"misa-back-walk",frames:o.generateFrameNames("self",{prefix:"misa-back-walk.",start:0,end:3,zeroPad:3}),frameRate:10,repeat:-1});const n=this.cameras.main;n.startFollow(t),n.setBounds(0,0,e.widthInPixels,e.heightInPixels),a=this.input.keyboard.createCursorKeys(),this.input.keyboard.once("keydown_D",(e=>{this.physics.world.createDebugGraphic();const a=this.add.graphics().setAlpha(.75).setDepth(20);r.renderDebug(a,{tileColor:null,collidingTileColor:new Phaser.Display.Color(243,134,48,255),faceColor:new Phaser.Display.Color(40,39,37,255)})}))},update:function(e,s){const i=175,r=t.body.velocity.clone();t.body.setVelocity(0),a.left.isDown?t.body.setVelocityX(-175):a.right.isDown&&t.body.setVelocityX(i);a.up.isDown?t.body.setVelocityY(-175):a.down.isDown&&t.body.setVelocityY(i);t.body.velocity.normalize().scale(i),a.left.isDown?t.anims.play("misa-left-walk",!0):a.right.isDown?t.anims.play("misa-right-walk",!0):a.up.isDown?t.anims.play("misa-back-walk",!0):a.down.isDown?t.anims.play("misa-front-walk",!0):(t.anims.stop(),r.x<0?t.setTexture("self","misa-left"):r.x>0?t.setTexture("self","misa-right"):r.y<0?t.setTexture("self","misa-back"):r.y>0&&t.setTexture("self","misa-front"))}}};let a,t,s;new Phaser.Game(e);
