var e=Object.defineProperty,t=(t,s,i)=>(((t,s,i)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i})(t,"symbol"!=typeof s?s+"":s,i),i);import{p as s,i}from"./vendor.016d00ad.js";const a="http://localhost:5000",n=e=>{e.create({key:"left-walk",frames:e.generateFrameNames("self",{prefix:"left-walk.",start:0,end:2,zeroPad:3}),frameRate:10,repeat:-1}),e.create({key:"right-walk",frames:e.generateFrameNames("self",{prefix:"right-walk.",start:0,end:2,zeroPad:3}),frameRate:10,repeat:-1}),e.create({key:"front-walk",frames:e.generateFrameNames("self",{prefix:"front-walk.",start:0,end:2,zeroPad:3}),frameRate:10,repeat:-1}),e.create({key:"back-walk",frames:e.generateFrameNames("self",{prefix:"back-walk.",start:0,end:2,zeroPad:3}),frameRate:10,repeat:-1})};class r extends s.exports.Scene{constructor(){super({key:"Init1"})}preload(){this.load.image("tiles",`${a}/maps/tilesets/BeachTileset.png`),this.load.tilemapTiledJSON("beach",`${a}/maps/json/beach.json`),this.load.atlas("self",`${a}/characters/sprites/cap_blue_boy.png`,`${a}/characters/json/spritesheet.json`)}create(){const e=this.make.tilemap({key:"beach",tileWidth:32,tileHeight:32}),t=e.addTilesetImage("beach","tiles");e.createLayer("ground",t,0,0);const s=e.createLayer("interactiveLayer",t,0,0),i=e.createLayer("water",t,0,0);s.setCollisionByProperty({collides:!0}),i.setCollisionByProperty({collides:!0});const a=e.findObject("Objects",(e=>"Spawn Point"===e.name));this.player=this.physics.add.sprite(a.x,a.y,"self","front-walk.000").setBodySize(32,20,!0).setSize(20,30).setOffset(0,0),this.physics.add.collider(this.player,i),n(this.anims);const r=this.cameras.main;r.startFollow(this.player),r.setBounds(0,0,e.widthInPixels,e.heightInPixels),this.cursors=this.input.keyboard.createCursorKeys()}update(e,t){const s=175,i=this.player.body.velocity.clone();this.player.body.setVelocity(0),this.cursors.left.isDown?this.player.body.setVelocityX(-175):this.cursors.right.isDown&&this.player.body.setVelocityX(s),this.cursors.up.isDown?this.player.body.setVelocityY(-175):this.cursors.down.isDown&&this.player.body.setVelocityY(s),this.player.body.velocity.normalize().scale(s),this.cursors.left.isDown?this.player.anims.play("left-walk",!0):this.cursors.right.isDown?this.player.anims.play("right-walk",!0):this.cursors.up.isDown?this.player.anims.play("back-walk",!0):this.cursors.down.isDown?this.player.anims.play("front-walk",!0):(this.player.anims.stop(),i.x<0?this.player.setTexture("self","left-walk.000"):i.x>0?this.player.setTexture("self","right-walk.000"):i.y<0?this.player.setTexture("self","back-walk.000"):i.y>0&&this.player.setTexture("self","front-walk.000"))}}class o{constructor(e,s,i=!1,a=!1){t(this,"setAlertText",(e=>{this.alertText&&(this.alertText=e)})),this.text=e,this.isOpen=!!i,this.onClose=s,this.forceRemove=a,i&&this.makeDOMElements()}show(){this.isOpen||(this.isOpen=!0,this.makeDOMElements())}closeAlert(){this.alertDiv.className="closeState",this.isOpen=!1,this.setAlertText(""),this.onClose&&this.onClose(),this.forceRemove&&setTimeout((()=>this.remove()),300)}remove(){this.alertDiv.remove()}DOMExists(){return null!==document.getElementById("alert")}makeDOMElements(){if(!this.DOMExists){const e=document.getElementById("overlays");this.alertDiv=document.createElement("div"),this.alertDiv.id="alert",this.closeBtn=document.createElement("button"),this.closeBtn.id="close-button",this.closeBtn.addEventListener("click",(()=>this.closeAlert())),this.alertDiv.appendChild(this.closeBtn),this.alertText=document.createElement("span"),this.alertText.id="alertText",this.alertText.innerText=this.text,this.alertDiv.appendChild(this.alertText),e.appendChild(this.alertDiv)}}}const l=e=>{const t=document.createElement("div");return t.className="button-group",e.forEach((e=>{t.append((({text:e,onClickFn:t})=>{const s=document.createElement("button");return s.innerText=e,s.addEventListener("click",(()=>t())),s})(e))})),t};class c extends o{constructor(e,t,s=!1,i=!1){super(null,null,s,i),this.dialogObj=e,this.spriteImg=t}makeDOMElements(){const e=document.getElementById("overlays");this.alertDiv=document.createElement("div"),this.alertDiv.id="dialog",this.closeBtn=document.createElement("button"),this.closeBtn.id="close-button",this.closeBtn.addEventListener("click",(()=>this.closeAlert()));const t=this.generateConversation();this.alertDiv.append(this.closeBtn,t),e.appendChild(this.alertDiv)}generateConversation(){const e=document.createElement("div");e.className="conv-container";const t=document.createElement("div");t.className="question-container";const s=document.createElement("img");s.src=this.spriteImg,this.questionText=document.createElement("p"),this.questionText.innerHTML=this.dialogObj.text,t.append(s,this.questionText),e.append(t),this.inputControl=l(this.dialogObj.buttons);const i=document.createElement("img");return i.src=this.spriteImg,this.inputControl.append(i),e.append(this.inputControl),e}}const h=(e,t,s="left")=>{const i=document.createElement("button");i.className="icon-button";const a=document.createElement("img");a.src=t,a.className="icon-button__icon";const n=document.createElement("span");return n.className="icon-button__text",n.innerText=e,"right"==s?(a.style.transform="rotate(180deg)",i.append(n,a)):i.append(a,n),i};var d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACTSURBVHgB7ZbRCYAwDESvTuAIjuAIOplu4Eiu4AaOoBvEiAVRVATlRLgHoR+l3KMpJYAQBMwsxVd4eO7V20IDNlFgsC35nbMJXiCGtV77NnDacnIDMzUYSEACEvCgzNafkC8QJYoDgRZMPDA9aUUFJhdvQiISkchvRXjjXQih86X0Gndb/KnbttM291s/kMkgxAMmgqkZMBLV0IQAAAAASUVORK5CYII=";const m={isEmpty:e=>""===e?"Password cannot be empty":void 0,validateEmail:e=>""===e?"Email cannot be empty!":/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e)?void 0:"Invalid email",validateName:e=>""===e?"Name cannot be empty!":/^[A-Za-z\s]+$/.test(e)?e.length<=2?"Name must be greater than 2 letters":e.length>=19?"Name must be lesser than 20 letters":void 0:"Name can only contain alphabets",validateUsername:e=>""===e?"Username cannot be empty!":e.length<=2?"Username must be greater than 2 letters":e.length>14?"Username must be lesser than 14 letters":/^[a-zA-Z0-9]([._-](?![._-])|[a-zA-Z0-9]){3,18}[a-zA-Z0-9]$/.test(e)?void 0:"Username cannot have special characters",validatePassword:e=>""===e?"Password cannot be empty!":e.length<6?"Password must be greater than 6 letters":e.length>14?"Password must be lesser than 14 letters":/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d$@$!^%*#?()&{}_]{6,}$/.test(e)?void 0:"Password must be a mixture of alphabets and numbers",validatePhone:e=>""===e?"Phone number cannot be empty!":/^(?:(?:\+|0{0,2})91(\s*[\-]\s*)?|[0]?)?[789]\d{9}$/.test(e)?void 0:"Invalid phone number!"},p=e=>m[{isEmpty:"isEmpty",name:"validateName",username:"validateUsername",password:"validatePassword",email:"validateEmail",phone:"validatePhone"}[e]];var u="data:image/png;base64,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";const y=[{name:"bald_blue_boy",gender:"male",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"bald_lightblue_boy",gender:"male",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"braided_purple_girl",gender:"female",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"curly_blue_girl",gender:"female",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"curly_white_girl",gender:"female",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"graduation_purple_boy",gender:"male",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"cap_blue_boy",gender:"male",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"beard_purple_boy",gender:"male",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"beard_red_boy",gender:"male",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"},{name:"hijab_blue_girl",gender:"female",desc:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam cum at soluta veritatis, minus libero!"}];class g{constructor(e,t){this.avatarList=y,this.avatarIndex=0,this.makeDOMElements(),this.data=e,this.onClose=t}makeDOMElements(){const e=document.getElementById("overlays");this.bgDiv=document.createElement("div"),this.bgDiv.className="bg-disabled",this.container=document.createElement("div"),this.container.className="avatar-picker__container";const t=document.createElement("div");t.className="avatar-picker__preview";const s=document.createElement("div");s.className="flex-center",this.leftArrow=document.createElement("img"),this.leftArrow.addEventListener("click",(()=>this.prevAvatar())),this.leftArrow.className="left-arrow",this.leftArrow.style.opacity=0,this.leftArrow.src=d,this.mainImg=document.createElement("img"),this.mainImg.className="img-preview",this.mainImg.src=`${a}/thumbnails/${this.avatarList[this.avatarIndex].name}.png`,this.rightArrow=document.createElement("img"),this.rightArrow.addEventListener("click",(()=>this.nextAvatar())),this.rightArrow.className="right-arrow",this.rightArrow.src=d,s.append(this.leftArrow,this.mainImg,this.rightArrow),t.append(s);const i=document.createElement("div");i.className="avatar-picker__details";const n=document.createElement("h1");n.innerText="Character Selection";const r=document.createElement("h2");r.innerText="Name",this.nameElement=document.createElement("h3"),this.nameElement.innerText=this.avatarList[this.avatarIndex].name;const o=document.createElement("h2");o.innerText="About",this.descElement=document.createElement("h3"),this.descElement.innerText=this.avatarList[this.avatarIndex].desc;const l=document.createElement("button");l.innerText="Select this character",l.addEventListener("click",(()=>{this.data.avatar=this.avatarList[this.avatarIndex].name,this.close()})),i.append(n,r,this.nameElement,o,this.descElement,l),this.container.append(t,i),e.append(this.bgDiv,this.container)}close(){this.onClose(),this.bgDiv.style.zIndex=-2,this.container.remove()}update(){const e=this.avatarList[this.avatarIndex];this.nameElement.innerText=e.name,this.descElement.innerText=e.desc,this.mainImg.src=`${a}/thumbnails/${e.name}.png`,this.leftArrow.style.opacity=0===this.avatarIndex?0:1,this.rightArrow.style.opacity=this.avatarIndex===this.avatarList.length-1?0:1}nextAvatar(e){this.avatarIndex+1<this.avatarList.length&&(this.avatarIndex++,this.update())}prevAvatar(){this.avatarIndex-1>=0&&(this.avatarIndex--,this.update())}}class b{constructor(e,s,i){t(this,"inputTypes",{"avatar-picker":"button",name:"text",username:"text",password:"password",email:"email",phone:"tel"}),this.responseObj=e,this.dialog=s,this.errorExists=!1,this.data=i,this.makeDOMElements()}makeDOMElements(){this.responseContainer=document.createElement("div"),this.responseContainer.className="response-container";const e=document.createElement("div");e.className="response__input-container";const t=document.createElement("span");t.innerText="👉",this.inputBox=document.createElement("input"),this.inputBox.focus(),this.inputBox.className="response__input-box",this.inputBox.type=this.inputTypes[this.responseObj.inputType],this.inputBox.placeholder=this.responseObj.placeholder,this.validator=p(this.responseObj.inputType),this.inputBox.addEventListener("input",(e=>{const t=this.validator(e.target.value);t?this.indicateErrors(t):(this.dialog.toggleButtons("enabled"),this.errorIcon.style.display="none",this.errorExists=!1,this.nextButton.disabled=!1,this.nextButton.removeAttribute("title"),this.errorIcon.removeAttribute("title"))})),this.errorIcon=document.createElement("img"),this.errorIcon.className="error-icon",this.errorIcon.src="/assets/error.bdcda763.svg",this.errorIcon.style.display="none",this.errorExists=!0,e.append(t,this.inputBox,this.errorIcon),this.nextButton=document.createElement("button"),this.nextButton.className="response__next-btn",this.nextButton.disabled=!0,this.nextButton.innerText=this.responseObj.submitAfterInput?"Submit":"Next",this.nextButton.addEventListener("click",(()=>{this.responseObj.submitAfterInput&&(this.data[this.responseObj.keyName]=this.inputBox.value,this.dialog.onSubmit(this.dialog)),this.dialog.nextDialog()}));const s=document.createElement("img");s.src=u,this.responseContainer.append(e,this.nextButton,s)}update(e){this.inputBox.focus(),this.data[this.responseObj.keyName]=this.inputBox.value,this.data[e.keyName]||(this.dialog.toggleButtons("disabled"),this.nextButton.disabled=!0),this.responseObj=e,this.inputBox.type=this.inputTypes[this.responseObj.inputType],this.inputBox.placeholder=e.placeholder,this.inputBox.value=this.data[e.keyName]||"","avatar-picker"==this.responseObj.inputType?(this.inputBox.value=e.placeholder,this.inputBox.onclick=()=>{new g(this.data,(()=>{this.dialog.toggleButtons("enabled"),this.nextButton.disabled=!1}))}):this.inputBox.onclick=()=>{},this.nextButton.innerText=e.submitAfterInput?"Submit":"Next",this.validator=p(this.responseObj.inputType),this.errorIcon.removeAttribute("title")}indicateErrors(e){this.errorIcon.style.display="inline-block",this.errorIcon.title=e,this.errorExists=!0,this.nextButton.disabled=!0,this.nextButton.title="There seems to be problem with your input, please check!",this.dialog.toggleButtons("disabled")}}class x extends o{constructor(e,t,s,i=!1,a=!1,n){super(null,null,i,a),this.sliderPosition=0,this.dialogObj=t,this.spriteImage=s,this.onSubmit=n,this.data=e}generateConversation(){const e=document.createElement("div");e.className="conv-container";const t=document.createElement("div");t.className="question-container";const s=document.createElement("img");return s.src=this.spriteImage,this.questionText=document.createElement("p"),this.questionText.innerHTML=this.dialogObj[this.sliderPosition].text,t.append(s,this.questionText),e.append(t),this.inputControl=new b(this.dialogObj[this.sliderPosition],this,this.data),this.toggleButtons("disabled"),e.append(this.inputControl.responseContainer),e}makeDOMElements(){const e=document.getElementById("overlays");this.alertDiv=document.createElement("div"),this.alertDiv.id="dialog";const t=document.createElement("div");t.className="control-container",this.prevButton=h("Prev",d,"left"),this.prevButton.addEventListener("click",(()=>this.prevDialog())),this.progressSpan=document.createElement("span"),this.progressSpan.className="progress-indicator",this.progress=`${this.sliderPosition+1}/${this.dialogObj.length}`,this.progressSpan.innerText=this.progress,this.nextButton=h("Next",d,"right"),this.nextButton.addEventListener("click",(()=>this.nextDialog())),this.closeBtn=document.createElement("button"),this.closeBtn.id="close-button",this.closeBtn.addEventListener("click",(()=>this.closeAlert()));const s=this.generateConversation();t.append(this.prevButton,this.progressSpan,this.nextButton,this.closeBtn),this.alertDiv.append(t,s),e.appendChild(this.alertDiv)}render(){this.progress=`${this.sliderPosition+1}/${this.dialogObj.length}`,this.progressSpan.innerText=this.progress,this.questionText.innerHTML=this.dialogObj[this.sliderPosition].text,this.inputControl.update(this.dialogObj[this.sliderPosition])}nextDialog(){this.sliderPosition+1<this.dialogObj.length&&(this.sliderPosition++,this.render())}prevDialog(){this.sliderPosition>0&&(this.sliderPosition--,this.render())}toggleButtons(e){let t="There seems to be problem with your input, please check!",s=!0;"enabled"===e&&(t="",s=!1),this.nextButton.disabled=s,this.prevButton.disabled=s,this.nextButton.title=t,this.prevButton.title=t}}const v=[{text:"What should we call you?",inputType:"username",placeholder:"Enter your username",keyName:"username",submitAfterInput:!1},{text:"Your email id is ...?",inputType:"email",placeholder:"Enter your email ID",keyName:"email",submitAfterInput:!1},{text:"What do you look like?",inputType:"avatar-picker",placeholder:"Choose Avatar",keyName:"avatar"},{text:"What is your password?",inputType:"password",placeholder:"Enter password",keyName:"password",submitAfterInput:!0}],A=[{text:"Your email id is ...?",inputType:"email",placeholder:"Enter your email ID",keyName:"email",submitAfterInput:!1},{text:"Tell me your secret code?",inputType:"password",placeholder:"Enter password",keyName:"password",submitAfterInput:!0}],E={},w=e=>{new x(E,A,u,!1,!1,(t=>((e,t)=>{console.log(e,E),t.closeAlert()})(e,t))).show()},k={},B=e=>{new x(k,v,u,!1,!1,(()=>(e=>{console.log(k),console.log(e)})(e))).show()};class I extends s.exports.Scene{constructor(){super({key:"Initial"})}preload(){console.log(N),this.load.image("tiles",`${a}/maps/tilesets/BeachTileset.png`),this.load.tilemapTiledJSON("beach",`${a}/maps/json/beach.json`),this.load.atlas("self",`${a}/characters/sprites/cap_blue_boy.png`,`${a}/characters/json/spritesheet.json`),this.load.atlas("login-sprite",`${a}/characters/sprites/bald_blue_boy.png`,`${a}/characters/json/spritesheet.json`),this.dialog=new c({text:'Hey, do you want to <span class="hy">Login</span> or <span class="hy">Sign Up</span>?',inputType:"buttons",buttons:[{text:"Login",onClickFn:()=>w(this.socket)},{text:"Sign Up",onClickFn:()=>B(this.socket)}]},u,!1,!0)}create(){const e=this.make.tilemap({key:"beach",tileWidth:32,tileHeight:32}),t=e.addTilesetImage("beach","tiles");e.createLayer("ground",t,0,0);const s=e.createLayer("interactiveLayer",t,0,0),i=e.createLayer("water",t,0,0);s.setCollisionByProperty({collides:!0}),i.setCollisionByProperty({collides:!0});const a=e.findObject("Objects",(e=>"Spawn Point"===e.name));this.player=this.physics.add.sprite(a.x,a.y,"self","front-walk.000").setBodySize(32,20,!0).setSize(20,30).setOffset(0,0),this.loginSprite=this.physics.add.sprite(300,50,"login-sprite","front-walk.000").setSize(20,30).setOffset(0,0),this.loginSprite.body.immovable=!0,this.physics.add.collider(this.player,i),this.physics.add.collider(this.player,s,(()=>{f({name:"X",age:"Y"}),this.scene.start("Init1")})),this.physics.add.collider(this.player,this.loginSprite,(e=>{((e,t,s)=>{const i=e.x-s.x,a=e.y-s.y;Math.abs(i)>Math.abs(a)?i>0?e.setTexture(t,"left-walk.000"):e.setTexture(t,"right-walk.000"):a>0?e.setTexture(t,"back-walk.000"):e.setTexture(t,"front-walk.000")})(this.loginSprite,"login-sprite",{x:e.x,y:e.y}),this.dialog.show()})),n(this.anims);const r=this.cameras.main;r.startFollow(this.player),r.setBounds(0,0,e.widthInPixels,e.heightInPixels),this.cursors=this.input.keyboard.createCursorKeys()}update(e,t){const s=175,i=this.player.body.velocity.clone();this.player.body.setVelocity(0),this.cursors.left.isDown?this.player.body.setVelocityX(-175):this.cursors.right.isDown&&this.player.body.setVelocityX(s),this.cursors.up.isDown?this.player.body.setVelocityY(-175):this.cursors.down.isDown&&this.player.body.setVelocityY(s),this.player.body.velocity.normalize().scale(s),this.cursors.left.isDown?this.player.anims.play("left-walk",!0):this.cursors.right.isDown?this.player.anims.play("right-walk",!0):this.cursors.up.isDown?this.player.anims.play("back-walk",!0):this.cursors.down.isDown?this.player.anims.play("front-walk",!0):(this.player.anims.stop(),i.x<0?this.player.setTexture("self","left-walk.000"):i.x>0?this.player.setTexture("self","right-walk.000"):i.y<0?this.player.setTexture("self","back-walk.000"):i.y>0&&this.player.setTexture("self","front-walk.000"))}}let N=null;const f=e=>{N=e};i("http://localhost:5000/");const T={type:Phaser.AUTO,width:700,height:700,parent:"canvas",pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:0}}},scene:I};new Phaser.Game(T).scene.add("Init1",r);
